!Job
target: !Target
  head: c544a8bb025d5fb1226637780275c8753f81dcb3
  email: unknown
  branch: master
  remote: https://github.com/apache/arrow
  github_repo: apache/arrow
  version: 9.0.0.dev90
  no_rc_version: 9.0.0.dev90
  no_rc_semver_version: 9.0.0-dev90
tasks:
  test-r-rhub-ubuntu-gcc-release-latest: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rhub
      r_image: ubuntu-gcc-release
      r_tag: latest
    branch: nightly-tests-2022-05-21-0-azure-test-r-rhub-ubuntu-gcc-release-latest
    commit: cca45b07b692ae9b1c7214f06ea79e9189866117
  test-ubuntu-20.04-cpp-thread-sanitizer: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        # clang-tools and llvm version need to be synchronized so as
        # to have the right llvm-symbolizer version
        CLANG_TOOLS: 11
        LLVM: 11
        UBUNTU: 20.04
      image: ubuntu-cpp-thread-sanitizer

    branch: nightly-tests-2022-05-21-0-github-test-ubuntu-20.04-cpp-thread-sanitizer
    commit: 237c7b0e6143640ac4202a64434342a2504cfaf2
  test-conda-python-3.9-spark-master: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.9'
        SPARK: master
        TEST_PYARROW_ONLY: 'false'
      # use the branch-3.0 of spark, so prevent reusing any layers
      flags: --no-leaf-cache
      image: conda-python-spark
      fetch_depth: 0

  # Remove the "skipped-" prefix in ARROW-8475
    branch: nightly-tests-2022-05-21-0-github-test-conda-python-3.9-spark-master
    commit: 35715827b3ba3fe0735cccf188fd47159e09def5
  test-conda-python-3.9-pandas-master: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.9'
        PANDAS: master
        NUMPY: nightly
      # use the latest pandas release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-pandas

    branch: nightly-tests-2022-05-21-0-github-test-conda-python-3.9-pandas-master
    commit: 2eb6bcf9e2ff3c89b5a7d5d3000951b924eae19b
  test-r-depsource-bundled: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rocker
      r_image: r-base
      r_tag: latest
      flags: -e ARROW_DEPENDENCY_SOURCE=BUNDLED

    branch: nightly-tests-2022-05-21-0-azure-test-r-depsource-bundled
    commit: d4959a464945e6b0f6f32c5ae957406beed8f0c8
  test-ubuntu-22.04-cpp: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: '22.04'
      image: ubuntu-cpp

    branch: nightly-tests-2022-05-21-0-github-test-ubuntu-22.04-cpp
    commit: e6ddf26c1f5ef91b7eee4728292f4bd306ff9499
  test-conda-python-3.7-pandas-0.24: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.7'
        PANDAS: '0.24'
        NUMPY: '1.19'
      image: conda-python-pandas
    branch: nightly-tests-2022-05-21-0-github-test-conda-python-3.7-pandas-0.24
    commit: edea3570673e3d9e85dd70a4f6bec9e83f3834a6
  test-r-rstudio-r-base-4.2-focal: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rstudio
      r_image: r-base
      r_tag: 4.2-focal
    branch: nightly-tests-2022-05-21-0-azure-test-r-rstudio-r-base-4.2-focal
    commit: 09b288409cd59861638b244889a7fd9251273179
  test-r-rhub-debian-gcc-devel-lto-latest: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rhub
      r_image: debian-gcc-devel-lto
      r_tag: latest
      flags: -e NOT_CRAN=false -e INSTALL_ARGS=--use-LTO

  # This one has -flto=auto
    branch: nightly-tests-2022-05-21-0-azure-test-r-rhub-debian-gcc-devel-lto-latest
    commit: 50319cd359e79b493b2ffee23663e9f3e4bf851a
  test-conda-python-3.9: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.9'
      image: conda-python
    branch: nightly-tests-2022-05-21-0-github-test-conda-python-3.9
    commit: 87be13d7fea1e0c7c8ee93509962ce011bd7f058
  test-conda-python-3.8: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.8'
      image: conda-python
    branch: nightly-tests-2022-05-21-0-github-test-conda-python-3.8
    commit: 1d3dedb5ac675a783e2ab65e7d4c8990b261f717
  test-r-linux-as-cran: !Task
    ci: github
    template: r/github.linux.cran.yml
    artifacts: []
    params:
      MATRIX: ${{ matrix.r_image }}

    branch: nightly-tests-2022-05-21-0-github-test-r-linux-as-cran
    commit: 0d3eff1d1f531a464cb1a873e905bd1c162445a6
  test-r-linux-rchk: !Task
    ci: github
    template: r/github.linux.rchk.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2022-05-21-0-github-test-r-linux-rchk
    commit: 009c7f72e4b42434e8891c2097897d329df84492
  test-r-ubuntu-22.04: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
        R_PRUNE_DEPS: true
      image: ubuntu-r-only-r

  # This also has -flto=auto
    branch: nightly-tests-2022-05-21-0-github-test-r-ubuntu-22.04
    commit: ad9ab6a520301a11cfdb0f16155c04ec189d249d
  test-r-depsource-system: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      flags: -e ARROW_DEPENDENCY_SOURCE=SYSTEM
      image: ubuntu-r-only-r

    branch: nightly-tests-2022-05-21-0-github-test-r-depsource-system
    commit: b2609768374be2bebff2229398d82e522cee2fa2
  test-r-arrow-backwards-compatibility: !Task
    ci: github
    template: r/github.linux.arrow.version.back.compat.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2022-05-21-0-github-test-r-arrow-backwards-compatibility
    commit: 9111f38d4ca6ee88ad6a359c6549a5aa519f9917
  test-debian-11-cpp-amd64: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        ARCH: amd64
        DEBIAN: '11'
      image: debian-cpp

    branch: nightly-tests-2022-05-21-0-github-test-debian-11-cpp-amd64
    commit: 00a514db08c42c93d7ed020823c6bb97736c94b3
  example-cpp-minimal-build-static: !Task
    ci: github
    template: cpp-examples/github.linux.yml
    artifacts: []
    params:
      type: minimal_build
      run: static
    branch: nightly-tests-2022-05-21-0-github-example-cpp-minimal-build-static
    commit: bf27a818dd799abd02ec57b959c2e519088042a5
  example-cpp-minimal-build-static-system-dependency: !Task
    ci: github
    template: cpp-examples/github.linux.yml
    artifacts: []
    params:
      type: minimal_build
      run: static-system-dependency
    branch: nightly-tests-2022-05-21-0-github-example-cpp-minimal-build-static-system-dependency
    commit: 564a2fc03c3f856a3432a667610eedff9f224175
  test-skyhook-integration: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 20.04
      flags: -e ARROW_SKYHOOK=ON
      image: ubuntu-cpp

    branch: nightly-tests-2022-05-21-0-github-test-skyhook-integration
    commit: 7bcde3383f86b7d75a5d54b893be28532533c271
  test-conda-python-3.7: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.7'
      image: conda-python
    branch: nightly-tests-2022-05-21-0-github-test-conda-python-3.7
    commit: 22e6f1032b00b3706fa0cc19b6fcc3172580b4a7
  test-r-offline-maximal: !Task
    ci: github
    template: r/github.linux.offline.build.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2022-05-21-0-github-test-r-offline-maximal
    commit: a19ea4fcf9500d6da6a1b10a36a818e0c97be6d2
  test-r-offline-minimal: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rocker
      r_image: r-base
      r_tag: latest
      flags: -e TEST_OFFLINE_BUILD=true

    branch: nightly-tests-2022-05-21-0-azure-test-r-offline-minimal
    commit: 582d9f56ad882ce469f01b816a1bae4240509698
  test-ubuntu-18.04-cpp-release: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 18.04
      flags: -e ARROW_BUILD_TYPE=release
      image: ubuntu-cpp

    branch: nightly-tests-2022-05-21-0-github-test-ubuntu-18.04-cpp-release
    commit: a61e03932e1509f0dd5441b2fc5f9aeb7d40b8e2
  test-conda-cpp-valgrind: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      image: conda-cpp-valgrind

    branch: nightly-tests-2022-05-21-0-azure-test-conda-cpp-valgrind
    commit: d1863d19bfe928e13ce4a28a38496f47ce61f498
  test-conda-python-3.8-hypothesis: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: 3.8
        HYPOTHESIS_PROFILE: ci
        PYARROW_TEST_HYPOTHESIS: ON
        # limit to execute hypothesis tests only
        PYTEST_ARGS: -m hypothesis
      image: conda-python-pandas

    branch: nightly-tests-2022-05-21-0-github-test-conda-python-3.8-hypothesis
    commit: aded28d5fc8514f5423cde64e509b941702b37c1
  test-debian-11-go-1.16: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        DEBIAN: 11
        GO: 1.16
      image: debian-go

    branch: nightly-tests-2022-05-21-0-azure-test-debian-11-go-1.16
    commit: 3407745a32efd1788297e1655b4877af6d3a5361
  test-build-vcpkg-win: !Task
    ci: github
    template: vcpkg-tests/github.windows.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2022-05-21-0-github-test-build-vcpkg-win
    commit: 9cc23be729d7511088052c56b47e85e7290eaa2a
  test-conda-python-3.10: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.10'
      image: conda-python

    branch: nightly-tests-2022-05-21-0-github-test-conda-python-3.10
    commit: 895c17ee66d8c3bd3f3128972de05ae6c3602991
  test-conda-python-3.7-kartothek-master: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: 3.7
        KARTOTHEK: master
      flags: --no-leaf-cache
      image: conda-python-kartothek

    branch: nightly-tests-2022-05-21-0-github-test-conda-python-3.7-kartothek-master
    commit: e9e6a4e21c1654f3b1a27267f7722be5940dcc02
  test-conda-python-3.7-kartothek-latest: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: 3.7
        KARTOTHEK: latest
      flags: --no-leaf-cache
      image: conda-python-kartothek
    branch: nightly-tests-2022-05-21-0-github-test-conda-python-3.7-kartothek-latest
    commit: 660a397062d995a9f9ad1d2c0e0a76c02ed20378
  test-debian-10-cpp-i386: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        ARCH: i386
        DEBIAN: '10'
      flags: -e ARROW_S3=OFF -e ARROW_GANDIVA=OFF
      image: debian-cpp
    branch: nightly-tests-2022-05-21-0-github-test-debian-10-cpp-i386
    commit: c4d1ae4913ea684417dff00676a35b9619bc1ea7
  test-conda-python-3.7-spark-v3.1.2: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.7'
        SPARK: v3.1.2
        TEST_PYARROW_ONLY: 'false'
      # use the branch-3.0 of spark, so prevent reusing any layers
      flags: --no-leaf-cache
      image: conda-python-spark
      fetch_depth: 0
    branch: nightly-tests-2022-05-21-0-github-test-conda-python-3.7-spark-v3.1.2
    commit: 969c868e6514d0b4bf3a1a7f69c47a5d38fb359b
  test-r-gcc-12: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
        GCC_VERSION: 12
      image: ubuntu-r-only-r

    branch: nightly-tests-2022-05-21-0-github-test-r-gcc-12
    commit: 3865b827cf8cdf0bcc50856bcd1a08baffde7a82
  test-r-rocker-r-base-latest: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rocker
      r_image: r-base
      r_tag: latest
    branch: nightly-tests-2022-05-21-0-azure-test-r-rocker-r-base-latest
    commit: 363552e0fa4fbff8cddc4549ab29090b16eeccd5
  test-r-dev-duckdb: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        R_DUCKDB_DEV: true
      image: ubuntu-r-only-r

    branch: nightly-tests-2022-05-21-0-github-test-r-dev-duckdb
    commit: ed8787ebb9bace52f262eeb4545d8dea87ac00a5
  test-fedora-r-clang-sanitizer: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        R_PRUNE_DEPS: true
      image: fedora-r-clang-sanitizer

    branch: nightly-tests-2022-05-21-0-azure-test-fedora-r-clang-sanitizer
    commit: 27c947565261b20b0242c232595ec4c633b5d912
  test-r-rhub-debian-gcc-release-custom-ccache: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rhub
      r_image: debian-gcc-release
      r_tag: latest
      r_custom_ccache: true

    branch: nightly-tests-2022-05-21-0-azure-test-r-rhub-debian-gcc-release-custom-ccache
    commit: e069b4bab4708f2dbfa0a8c302db084cb075c5ae
  test-r-rstudio-r-base-4.1-opensuse15: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rstudio
      r_image: r-base
      r_tag: 4.1-opensuse15
    branch: nightly-tests-2022-05-21-0-azure-test-r-rstudio-r-base-4.1-opensuse15
    commit: ef29467bc1018e895ef441115ae5bd42ceb0bd9c
  test-ubuntu-18.04-r-sanitizer: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 18.04
        R_PRUNE_DEPS: true
      image: ubuntu-r-sanitizer

    branch: nightly-tests-2022-05-21-0-azure-test-ubuntu-18.04-r-sanitizer
    commit: 150cb962f7b9765ffc5fc3f58c74ea9129764c18
  test-debian-ruby: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      image: debian-ruby
    branch: nightly-tests-2022-05-21-0-github-test-debian-ruby
    commit: ddbd4f04b8ea4539c2b36eee456082392c3c8231
  test-build-cpp-fuzz: !Task
    ci: github
    template: fuzz-tests/github.oss-fuzz.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2022-05-21-0-github-test-build-cpp-fuzz
    commit: 87885cf654858f7c8f2f05c5cb36cc7ef6cea92a
  test-conda-python-3.7-hdfs-3.2.1: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: 3.7
        HDFS: 3.2.1
      image: conda-python-hdfs

    branch: nightly-tests-2022-05-21-0-github-test-conda-python-3.7-hdfs-3.2.1
    commit: ec8ba22b037f767ba81ae02d155405653b932191
  test-ubuntu-18.04-cpp-static: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 18.04
      flags: -e ARROW_BUILD_SHARED=OFF -e ARROW_BUILD_STATIC=ON -e ARROW_TEST_LINKAGE=static
      image: ubuntu-cpp

    branch: nightly-tests-2022-05-21-0-github-test-ubuntu-18.04-cpp-static
    commit: f4335bce182c48caefcefa0c0e987113dc33ea77
  test-ubuntu-20.04-cpp-14: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 20.04
      flags: -e CMAKE_ARGS=-DCMAKE_CXX_STANDARD=14
      image: ubuntu-cpp
    branch: nightly-tests-2022-05-21-0-github-test-ubuntu-20.04-cpp-14
    commit: 9f6df37e209a220481dca37dd30b99ecd41234b7
  test-conda-python-3.8-pandas-nightly: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.8'
        PANDAS: nightly
        NUMPY: nightly
      # use the latest pandas release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-pandas
    branch: nightly-tests-2022-05-21-0-github-test-conda-python-3.8-pandas-nightly
    commit: 3cc730b2881112c502f8672d9633f2c62719015e
  test-ubuntu-20.04-cpp: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: '20.04'
      image: ubuntu-cpp
    branch: nightly-tests-2022-05-21-0-github-test-ubuntu-20.04-cpp
    commit: 9da2b325f239bdf824bdc6c3f358e935034fa616
  test-r-install-local: !Task
    ci: github
    template: r/github.macos-linux.local.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2022-05-21-0-github-test-r-install-local
    commit: d0df801a90e77686e0a51d6520e379d91a1bd7f5
  test-ubuntu-ruby: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      image: ubuntu-ruby

  # Use azure to run valgrind tests to prevent OOM
    branch: nightly-tests-2022-05-21-0-github-test-ubuntu-ruby
    commit: 35977467107a9708e9de44a123b67c24326a3be2
  test-debian-10-cpp-amd64: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        ARCH: amd64
        DEBIAN: '10'
      image: debian-cpp

    branch: nightly-tests-2022-05-21-0-github-test-debian-10-cpp-amd64
    commit: f4cff299054133309934064698063da2db6082be
  test-r-rstudio-r-base-4.2-centos7-devtoolset-8: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rstudio
      r_image: r-base
      r_tag: 4.2-centos7
      devtoolset_version: 8

    branch: nightly-tests-2022-05-21-0-azure-test-r-rstudio-r-base-4.2-centos7-devtoolset-8
    commit: de9c0bcc110bf3b4715a7756fc7a3b7860a4c0ae
  test-r-minimal-build: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rocker
      r_image: r-base
      r_tag: latest
      flags: -e LIBARROW_MINIMAL=TRUE

    branch: nightly-tests-2022-05-21-0-azure-test-r-minimal-build
    commit: c35bfbfd1ca1c5148c6e777b4e26a5107d67769c
  test-ubuntu-20.04-cpp-bundled: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 20.04
      image: ubuntu-cpp-bundled

    branch: nightly-tests-2022-05-21-0-github-test-ubuntu-20.04-cpp-bundled
    commit: a42d34dfa3a0a2d11812928c0e27a82543cdb781
  test-conda-python-3.8-spark-v3.2.0: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.8'
        SPARK: v3.2.0
        TEST_PYARROW_ONLY: 'false'
      # use the branch-3.0 of spark, so prevent reusing any layers
      flags: --no-leaf-cache
      image: conda-python-spark
      fetch_depth: 0
    branch: nightly-tests-2022-05-21-0-github-test-conda-python-3.8-spark-v3.2.0
    commit: cae24bde3f63a0f473c5ccc1556fb86dd5cf4b94
  test-conda-python-3.9-dask-master: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: 3.9
        DASK: master
      # use the latest dask release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-dask

# Turbodbc is currently failing to build. See:
# https://issues.apache.org/jira/browse/ARROW-15997
# #   test-conda-python-3.7-turbodbc-latest:
#     ci: github
#     template: docker-tests/github.linux.yml
#     params:
#       env:
#         PYTHON: 3.7
#         TURBODBC: latest
#       # use the latest turbodbc release, so prevent reusing any cached layers
#       flags: --no-leaf-cache
#       image: conda-python-turbodbc
# #   test-conda-python-3.7-turbodbc-master:
#     ci: github
#     template: docker-tests/github.linux.yml
#     params:
#       env:
#         PYTHON: 3.7
#         TURBODBC: master
#       # use the latest turbodbc release, so prevent reusing any cached layers
#       flags: --no-leaf-cache
#       image: conda-python-turbodbc
# 
    branch: nightly-tests-2022-05-21-0-github-test-conda-python-3.9-dask-master
    commit: 45733eed0f578845a0e17216bfcb56430c7876ea
  test-debian-11-python-3: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        DEBIAN: 11
      image: debian-python

    branch: nightly-tests-2022-05-21-0-azure-test-debian-11-python-3
    commit: ef26b4b599b290ba5dda7129b41fe385811b89cf
  test-r-versions: !Task
    ci: github
    template: r/github.linux.versions.yml
    artifacts: []
    params:
      MATRIX: ${{ matrix.r_version }}

    branch: nightly-tests-2022-05-21-0-github-test-r-versions
    commit: 28992a93c8bae2f0940232c24b7ce1c47f157352
  test-fedora-35-cpp: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        FEDORA: 35
      image: fedora-cpp

    branch: nightly-tests-2022-05-21-0-github-test-fedora-35-cpp
    commit: b7af6dfcabd7c8e33c95ba1c435b4364f481fb28
  test-ubuntu-20.04-python-3: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 20.04
      image: ubuntu-python

    branch: nightly-tests-2022-05-21-0-azure-test-ubuntu-20.04-python-3
    commit: 53b98bc7eb3c1aa5ea82bbf0d3fe8eb35f8b114e
  test-conda-python-3.8-pandas-latest: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.8'
        PANDAS: latest
        NUMPY: latest
        # ensure we have at least one build with parquet encryption disabled
        PARQUET_REQUIRE_ENCRYPTION: OFF
      # use the latest pandas release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-pandas
    branch: nightly-tests-2022-05-21-0-github-test-conda-python-3.8-pandas-latest
    commit: 32a376758cde1d8e215b7cd149257a8478d0f391
  test-conda-python-3.7-pandas-latest: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.7'
        PANDAS: latest
        NUMPY: latest
        # ensure we have at least one build with parquet encryption disabled
        PARQUET_REQUIRE_ENCRYPTION: OFF
      # use the latest pandas release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-pandas
    branch: nightly-tests-2022-05-21-0-github-test-conda-python-3.7-pandas-latest
    commit: 278943ed03be5dda6ae9d38e98674ee475e6fe7c
  test-r-devdocs: !Task
    ci: github
    template: r/github.devdocs.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2022-05-21-0-github-test-r-devdocs
    commit: dce9deec7aaf39ba74ce47ceb0de06cd5e0754fe
  test-conda-cpp: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      image: conda-cpp
    branch: nightly-tests-2022-05-21-0-github-test-conda-cpp
    commit: 472e5ef251243eabd7d8030e3f3b8230250ae4a2
  test-debian-c-glib: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      image: debian-c-glib
    branch: nightly-tests-2022-05-21-0-github-test-debian-c-glib
    commit: fb0e027c4c30709568682295fbc2c15eaf18861c
  test-r-gcc-11: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
        GCC_VERSION: 11
      image: ubuntu-r-only-r

  # This also has -flto=auto
    branch: nightly-tests-2022-05-21-0-github-test-r-gcc-11
    commit: f3fad78c30f6ff3a8dbb91a5d5e315e7dc2f6d6e
  test-fedora-35-python-3: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        FEDORA: 35
      image: fedora-python

    branch: nightly-tests-2022-05-21-0-azure-test-fedora-35-python-3
    commit: 9ec8a2159041695e99b0db2a530d84732adab777
  test-r-rstudio-r-base-4.2-opensuse42: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rstudio
      r_image: r-base
      r_tag: 4.2-opensuse42

  # This is with R built with --enable-lto
  # CRAN also does R CMD INSTALL --use-LTO
  # which overrides the UseLTO field in r/DESCRIPTION
    branch: nightly-tests-2022-05-21-0-azure-test-r-rstudio-r-base-4.2-opensuse42
    commit: 82f152c4026fa64f35d5007f941ed6b7f4eb06c5
  test-r-linux-valgrind: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        ARROW_R_DEV: 'TRUE'
        UBUNTU: 18.04
      image: ubuntu-r-valgrind

    branch: nightly-tests-2022-05-21-0-azure-test-r-linux-valgrind
    commit: b14a588c25ccb7a021b678572c6f520237223c5f
  test-ubuntu-18.04-cpp: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: '18.04'
      image: ubuntu-cpp
    branch: nightly-tests-2022-05-21-0-github-test-ubuntu-18.04-cpp
    commit: 6535d5f6a54b979d7841ef86b4e2b0ccec21a49a
  test-ubuntu-c-glib: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      image: ubuntu-c-glib
    branch: nightly-tests-2022-05-21-0-github-test-ubuntu-c-glib
    commit: 034176bc59b4bae032cdcac3936b723170b6638d
  test-debian-11-cpp-i386: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        ARCH: i386
        DEBIAN: '11'
      flags: -e ARROW_S3=OFF -e ARROW_GANDIVA=OFF
      image: debian-cpp

    branch: nightly-tests-2022-05-21-0-github-test-debian-11-cpp-i386
    commit: 8d43fc66af2a88b547cf238a25e828f1a1c041e7
  test-conda-python-3.7-hdfs-2.9.2: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: 3.7
        HDFS: 2.9.2
      image: conda-python-hdfs
    branch: nightly-tests-2022-05-21-0-github-test-conda-python-3.7-hdfs-2.9.2
    commit: eae425b47c166f084c0d6427c94e875ec29eedb2
  test-ubuntu-default-docs: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts:
    - docs.tar.gz
    params:
      artifacts: build/docs.tar.gz
      flags: -v $PWD/build/:/build/
      image: ubuntu-docs
      post_script: |
        cd build
        sudo chown -R ${USER}: .
        tar cvzf docs.tar.gz docs
    branch: nightly-tests-2022-05-21-0-azure-test-ubuntu-default-docs
    commit: e623a47982024c1b6c28c293de6cb9bfd46191b6
  test-conda-python-3.9-dask-latest: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: 3.9
        DASK: latest
      # use the latest dask release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-dask
    branch: nightly-tests-2022-05-21-0-github-test-conda-python-3.9-dask-latest
    commit: fb0bd4fc71315cb23278a8a9f15852ebdc240c3f
  test-ubuntu-20.04-cpp-17: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 20.04
      flags: -e CMAKE_ARGS=-DCMAKE_CXX_STANDARD=17
      image: ubuntu-cpp

    branch: nightly-tests-2022-05-21-0-github-test-ubuntu-20.04-cpp-17
    commit: 107dc2361b855c870556becd83e772063b5ea02e
params: {}
branch: nightly-tests-2022-05-21-0
